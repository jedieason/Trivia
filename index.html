<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="Images/icon.png" type="image/png">
    <title>Trivia</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="debug.css">
    <script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
</head>
<body>
    <!-- 開始畫面 -->
    <div class="start-screen">
        <div class="start-title">Trivia</div>
        <div class="header-right-homepage">
            <button id="modeToggle-header" class="toggle-button">
                <img src="Images/moon.svg" alt="Switch to dark mode" width="15" height="15">
            </button>
            <button class="login-button">Login</button>
            <div class="user-info button-container" style="display: none;">
                <img class="user-button-homepage user-profile" src="" alt="User Profile" style="display: none;">
                <img class="user-button-homepage user-profile" src="" alt="User Profile" style="display: none;" id="userProfileHomeBtn">
                <div class="expandable-frame">
                    <button class="signOutButton logout-button">Logout</button>
                </div>
            </div>
        </div>
        <!-- 新增一個空的按鈕容器 -->
        <div id="button-row" class="button-row"></div>
        
        <button id="startGame" class="start-button">Start</button>
        <!-- Restore -->
        <button class="restoreBtn_C3D4" id="restore">
            <span class="btnText_E5F6">Where did I leave off?</span>
        </button>
        <div class="language">
            <button class="language-button">In Trivia We Trust</button>
        </div>
    </div>
    
    <!-- 測驗內容 -->
    <div class="quiz-container">
        <div class="header">
            <div class="quiz-title">Trivia</div>
            <div class="header-right">
                <img id="reverseButton" src="Images/reverse.svg" alt="Reverse" width="23" height="23" style="cursor: pointer;">
<!--                 <button class="login-button">Login</button> -->
                <div class="user-info button-container" style="display: none;">
                    <img class="user-button user-profile" src="" alt="User Profile" style="display: none;" id="userProfileBtn">
                    <div class="expandable-frame">
                        <button class="signOutButton logout-button">Logout</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="progress">
            <div class="progress-item orange-bg" id="wrongArea">
                <span class="progress-number-orange" id="wrong">0</span>
                <span class="progress-text">Wrong</span>
            </div>
            <div class="progress-item green-bg" id="correctArea">
                <span class="progress-text">Correct</span>
                <span class="progress-number-green" id="correct">0</span>
            </div>
        </div>
        <div class="question-content" id="question"></div>
        <div class="options" id="options"></div>
        <button id="confirm-btn" class="confirm-button">Confirm</button>

        <div class="explanation" id="explanation">
            <div class="explanation-text" id="explanation-text"></div>
            <div id="WeeGPTInputSection" style="display: none;">
                <input id="userQuestion" placeholder="Ask Gemini 2.0..."></input>
                <button id="sendQuestionBtn">Send</button>
            </div>
            <div class="explanation-buttons">
                <div class="header-right">
                    <img id="copy-btn" src="Images/copy.svg" alt="Copy" width="30" height="30" style="cursor: pointer;">
                    <img id="deBug" src="Images/debug.svg" alt="Debug" width="30" height="30" style="cursor: pointer;">
                    <img id="WeeGPT" src="Images/WeeGPT.svg" alt="WeeGPT" width="24" height="24" style="cursor: pointer;">
                </div>
                <button id="next-btn" class="next-button">Next</button>
            </div>
        </div>
        <div class="copyright">
            © 2025 <a href="https://instagram.com/jedieason" target="_blank">Jedieason</a> All rights reserved
        </div>
    </div>

    <!-- 自訂模態窗口 -->
    <div id="customAlert" class="modal">
        <div class="modal-content">
            <p id="modal-message">Choose something</p>
            <button id="modalConfirmBtn" class="modal-confirm-button">Got it</button>
        </div>
    </div>

    <!-- deBug回報窗口 -->
    <div id="popupWindow">
        <div id="closeButton">&times;</div>
        <div class="content">
            <div class="non-editable">Question:</div>
            <div class="editable" contenteditable="true"></div>
            <div class="editable" contenteditable="true"></div>
            <div class="non-editable">Options:</div>
            <div class="editable" contenteditable="true"></div>
            <div class="non-editable">Explanation:</div>
            <div class="editable" contenteditable="true"></div>
        </div>
        <button id="sendButton">Bug found</button>
    </div>
      <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
      </script>
      <!-- 引入 Gemini 模組 -->
      <script type="module" src="gemini-setup.js"></script>
    <script src="debug.js"></script>
    <script type="module" src="login.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
